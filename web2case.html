<form
  action="https://unissondisability--uat.sandbox.my.salesforce.com/servlet/servlet.WebToCase?encoding=UTF-8&orgId=00DBo0000050BTd"
  method="POST"
  target="_top"
>
  <input type="hidden" name="orgid" value="00DBo0000050BTd">
  <input type="hidden" id="retURL" name="retURL" value="">

    <label for="name">Contact Name</label>
    <input id="name" name="name" maxlength="80">

    <label for="email">Email</label>
    <input id="email" name="email" maxlength="80">

    <label for="subject">Subject</label>
    <input id="subject" name="subject" maxlength="80">

    <label for="description">Description</label>
    <textarea id="description" name="description"></textarea>
  <!-- your other fields... -->

  <button type="submit">Submit</button>
</form>

<script>
  window.addEventListener("load", () => {
    // When embedded, SharePoint is typically the referrer
    let returnUrl = document.referrer;

    // Fallback if referrer is stripped
    const FALLBACK = "https://tenant.sharepoint.com/sites/Intranet";

    // Lock redirects to your SharePoint tenant to avoid open-redirect abuse
    if (!returnUrl || !returnUrl.startsWith("https://tenant.sharepoint.com")) {
      returnUrl = FALLBACK;
    }

    // Add a query flag so SharePoint can show a success banner
    const sep = returnUrl.includes("?") ? "&" : "?";
    document.getElementById("retURL").value = returnUrl + sep + "caseSubmitted=1";
  });
</script>


